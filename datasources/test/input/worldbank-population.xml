<services name="WorldBank">
	<usage-policies>
		<policy name="2000_request_per_day"
				type="uk.ac.ox.cs.pdq.services.policies.RequestFrequencyLimit"
				limit="2000" period="24h"/>
		<policy name="50_items_per_page"
				type="uk.ac.ox.cs.pdq.services.policies.PagingLimit"
				limit="50" page-size="per_page" page-index="page" total-items="total"/>
	</usage-policies>
	<input-methods>
		<input-method name="format"    type="url-param"    value="json"/>
		<input-method name="country"   type="path-element" template="/{1}" batch=","/>
		<input-method name="indicator" type="path-element" template="/indicators/{1}"/>
		<input-method name="date"      type="url-param" />
	</input-methods>
	<service
		name="TotalPopulation"
		protocol="REST"
		url="http://api.worldbank.org/countries" 
		documentation="http://data.worldbank.org/node/11">

		<policy name="50_items_per_page"/>
<!-- 
		<policy name="2000_request_per_day" />
 -->
		<policy type="uk.ac.ox.cs.pdq.services.policies.RequestFrequencyLimit"
				limit="20" period="1s" wait="true"/>

		<static-input name="format"      type="java.lang.String"  input-method="format" />
		<attribute    name="country"     type="java.lang.String"  input-method="country.1"   path="country/id"/>
		<static-input name="indicator"   type="java.lang.String"  input-method="indicator.1" value="SP.POP.TOTL"/>
		<attribute    name="date"        type="java.lang.Integer" input-method="date"        path="date"/>
		<attribute    name="countryName" type="java.lang.String"  path="country/value"/>
		<attribute    name="value"       type="java.lang.Double"  path="value"/>

		<access-method type="LIMITED" name="ci" inputs="1,2" cost="1.0" />
		<access-method type="LIMITED" name="cid" inputs="1,2,3" cost="1.0" />
	</service>
</services>